generator client {
  provider = "prisma-client"
  output   = "../node_modules/@prisma/client/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model continent {
  con_id                Int       @id @default(autoincrement())
  con_name              String       @unique @db.VarChar(100)
  con_description       String       @db.Text
  
  countries             country[] 

  createdAt             DateTime  @default(now())
  updatedAt             DateTime  @updatedAt
}

model country {
  cou_id                 Int      @id @default(autoincrement())
  cou_name               String      @unique @db.VarChar(80)
  cou_language           String      @db.VarChar(50)
  cou_coin               String      @db.VarChar(50)
  cou_flag               String      @db.VarChar(255)
  cou_population         Int

  con_id                 Int
  continent              continent    @relation(fields: [con_id], references: [con_id], onDelete: Cascade)
  cities                 city[]

  createdAt              DateTime  @default(now())
  updatedAt              DateTime  @updatedAt
}

model city {
  cit_id                 Int       @id @default(autoincrement())
  cit_name               String       @unique @db.VarChar(80)
  cit_population         Int
  cit_latitude           Float
  cit_longitude          Float

  cou_id                 Int
  country                country      @relation(fields: [cou_id], references: [cou_id], onDelete: Cascade)

  createdAt              DateTime  @default(now())
  updatedAt              DateTime  @updatedAt
}

model user {
  use_id                 Int      @id @default(autoincrement())
  use_email              String   @unique @db.VarChar(255)
  use_password           String   @db.VarChar(255)
  use_name               String   @db.VarChar(100)
  use_role               String   @default("user") @db.VarChar(20)

  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
}
